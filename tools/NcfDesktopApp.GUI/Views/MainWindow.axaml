<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:NcfDesktopApp.GUI.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:views="using:NcfDesktopApp.GUI.Views"
        mc:Ignorable="d" d:DesignWidth="900" d:DesignHeight="800"
        x:Class="NcfDesktopApp.GUI.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Title="NCF æ¡Œé¢åº”ç”¨ç¨‹åº - Hybridç‰ˆ"
        Width="900" Height="800"
        MinWidth="800" MinHeight="650"
        WindowStartupLocation="CenterScreen"
        Icon="/Assets/NCF-logo.png">

    <Window.Styles>
        <!-- å¡ç‰‡æ ·å¼ - æ”¯æŒä¸»é¢˜åˆ‡æ¢ -->
        <Style Selector="Border.card">
            <Setter Property="Background" Value="{DynamicResource CardBackgroundBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource CardBorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="BoxShadow" Value="0 2 4 0 #1A000000"/>
        </Style>
        
        <!-- TabItem åŸºç¡€æ ·å¼ -->
        <Style Selector="TabItem">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="20,12"/>
        </Style>
        
        <!-- TabItem é€‰ä¸­çŠ¶æ€ -->
        <Style Selector="TabItem:selected">
            <Setter Property="Background" Value="#007ACC"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <!-- è‡ªå®šä¹‰æµè§ˆå™¨æ ‡ç­¾é¡µæ ·å¼ -->
        <Style Selector="TabItem.browser-tab">
            <Setter Property="Padding" Value="15,8"/>
        </Style>
        
        <!-- ðŸ”§ æ–¹æ¡ˆ1æœ€ç»ˆç‰ˆï¼šè‡ªå®šä¹‰æ ‡ç­¾æŒ‰é’®æ ·å¼ -->
        <Style Selector="Button.tab-button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="CornerRadius" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
        
        <Style Selector="Button.tab-button:pointerover">
            <Setter Property="Background" Value="#E0E0E0"/>
        </Style>
    </Window.Styles>

    <Grid>
        <!-- ðŸ”§ æ–¹æ¡ˆ1æœ€ç»ˆç‰ˆï¼šä½¿ç”¨ Grid å åŠ å±‚ï¼Œç¡®ä¿ WebView å§‹ç»ˆåœ¨ UI æ ‘ä¸­ï¼Œæ°¸ä¸å¸è½½ -->
        <!-- ä½¿ç”¨è‡ªå®šä¹‰æ ‡ç­¾æŒ‰é’® + Grid å åŠ ï¼Œå®Œå…¨é¿å… TabControl å¯èƒ½å¯¼è‡´çš„å¸è½½é—®é¢˜ -->
        <Grid>
            <!-- è‡ªå®šä¹‰æ ‡ç­¾æŒ‰é’®æ  -->
            <StackPanel Orientation="Horizontal" 
                       Background="{DynamicResource CardBackgroundBrush}"
                       HorizontalAlignment="Left"
                       VerticalAlignment="Top"
                       ZIndex="100">
                <Button Content="âš™ï¸ è®¾ç½®ä¸­å¿ƒ"
                       Command="{Binding SwitchToSettingsCommand}"
                       Background="{Binding SettingsTabButtonBackground}"
                       Foreground="{Binding SettingsTabButtonForeground}"
                       Padding="20,12"
                       FontSize="14"
                       FontWeight="SemiBold"
                       Margin="0,0,1,0"
                       Classes="tab-button settings-tab"/>
                <Button Content="ðŸŒ NCF åº”ç”¨"
                       Command="{Binding SwitchToBrowserCommand}"
                       Background="{Binding BrowserTabButtonBackground}"
                       Foreground="{Binding BrowserTabButtonForeground}"
                       Padding="20,12"
                       FontSize="14"
                       FontWeight="SemiBold"
                       IsVisible="{Binding IsBrowserTabVisible}"
                       Classes="tab-button browser-tab"/>
            </StackPanel>
            
            <!-- å†…å®¹åŒºåŸŸ - ä¸¤ä¸ªè§†å›¾éƒ½ä¿æŒåœ¨ UI æ ‘ä¸­ï¼Œåªé€šè¿‡ IsVisible æŽ§åˆ¶æ˜¾ç¤º -->
            <Grid Margin="0,48,0,0">
                <!-- è®¾ç½®é¡µé¢ - å§‹ç»ˆåœ¨ UI æ ‘ä¸­ -->
                <views:SettingsView DataContext="{Binding}"
                                   IsVisible="{Binding IsSettingsTabActive}"/>
                
                <!-- æµè§ˆå™¨é¡µé¢ - å§‹ç»ˆåœ¨ UI æ ‘ä¸­ï¼Œæ°¸ä¸å¸è½½ -->
                <views:BrowserView DataContext="{Binding}"
                                  IsVisible="{Binding IsBrowserTabActive}"/>
            </Grid>
        </Grid>
        
        <!-- å…¨å±€åŠ è½½é®ç½© -->
        <Border Background="{DynamicResource ContentBackgroundBrush}" 
                Opacity="0.95"
                IsVisible="{Binding IsInitializing}"
                ZIndex="1000">
            <StackPanel HorizontalAlignment="Center" 
                        VerticalAlignment="Center" 
                        Spacing="20">
                <TextBlock Text="ðŸš€" 
                           FontSize="48" 
                           HorizontalAlignment="Center"/>
                <TextBlock Text="æ­£åœ¨åˆå§‹åŒ– NCF æ¡Œé¢åº”ç”¨ç¨‹åº..." 
                           FontSize="16" 
                           HorizontalAlignment="Center" 
                           Foreground="{DynamicResource SecondaryTextBrush}"/>
                <ProgressBar IsIndeterminate="True" 
                             Width="300" 
                             Height="4"/>
            </StackPanel>
        </Border>
    </Grid>

</Window>
